<div class="container-sign-up">
  <div class="signup-form">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="container">
        <h1>Register</h1>
        <p>Please fill in this form to create an account.</p>

        <label for="username"><b>Username</b></label>
        <input formControlName="username" type="text" placeholder="Enter Username" name="username"
              [ngClass]="{'is-invalid': submitted && f.username.errors}"/> 
        <div *ngIf="submitted && f.username.errors">
          <div *ngIf="f.username.errors.required" class="validation">*Username is required</div>
          <div *ngIf="f.username.errors.minlength" class="validation">*Username is minimum 8 characters</div>
          <div *ngIf="f.username.errors.maxlength" class="validation">*Username is maximum 50 characters</div>
        </div>
        
        <div class="row-input">
          <div class="row-input-left padding-input-left">
            <label for="psw"><b>Password</b></label>
            <br>
            <input formControlName="password" type="password" placeholder="Enter Password" name="psw"
                  [ngClass]="{'is-invalid': submitted && f.password.errors}"/>
            <div *ngIf="submitted && f.password.errors">
              <div *ngIf="f.password.errors.required" class="validation">*Password required</div>
              <div *ngIf="f.password.errors.minlength" class="validation">*Password is minium 6 characters</div>
              <div *ngIf="f.password.errors.maxlength" class="validation">*Password is maxlength 50 characters</div>
            </div>
          </div>

          <div class="row-input-right">
            <label for="psw-repeat"><b>Confirm Password</b></label>
            <br>
            <input formControlName="repeatpassword" type="password" placeholder="Confirm Password" name="psw-repeat" 
                  [ngClass]="{'is-invalid': submitted && f.repeatpassword.errors}"/>
            <div *ngIf="submitted && f.repeatpassword.errors">
              <div *ngIf="f.repeatpassword.errors.required" class="validation">*Confirm Password is required</div>
              <div *ngIf="f.repeatpassword.errors.confirmedValidator" class="validation">*Password and Confirm Password must be match</div>
            </div>
          </div>
        </div>
        
        <div class="row-input">
          <div class="row-input-left padding-input-left">
            <label for="firstname"><b>First Name</b></label>
            <input formControlName="firstname" type="text" placeholder="Enter Firstname" name="firstname" 
                  [ngClass]="{'is-invalid': submitted && f.firstname.errors}"/>
            <div *ngIf="submitted && f.firstname.errors">
              <div *ngIf="f.firstname.errors.required" class="validation">*Firstname is required</div>
              <div *ngIf="f.firstname.errors.maxlength" class="validation">*Firstname is maximum 15 characters</div>
            </div>
          </div>

          <div class="row-input-right">
            <label for="lastname"><b>Last Name</b></label>
            <input formControlName="lastname" type="text" placeholder="Enter Lastname" name="lastname" 
                  [ngClass]="{'is-invalid': submitted && f.lastname.errors}"/>
            <div *ngIf="submitted && f.lastname.errors">
              <div *ngIf="f.lastname.errors.required" class="validation">*Lastname is required</div>
              <div *ngIf="f.lastname.errors.minlength" class="validation">*Lastname is minimum 2 characters</div>
              <div *ngIf="f.lastname.errors.maxlength" class="validation">*Lastname is maximum 100 characters</div>
            </div>
          </div>
        </div>
        
  
        <label for="email"><b>Email</b></label>
        <input formControlName="email" type="text" placeholder="Enter Email" name="email" id="email"
              [ngClass]="{'is-invalid': submitted && f.email.errors}"/>
        <div *ngIf="submitted && f.email.errors">
          <div *ngIf="f.email.errors.required" class="validation">*Email is required</div>
          <div *ngIf="f.email.errors.email" class="validation">*Invalid email format</div>
          <div *ngIf="f.email.errors.maxlength" class="validation">*Email is maximum 200 characters</div>
        </div>
        
        <hr>
        <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>
    
        <button type="submit" class="registerbtn">Register</button>
      </div>
      
      <div class="container signin">
        <p>Already have an account? <a routerLink="../login">Sign in</a>.</p>
      </div>
    </form>

    <div *ngIf="loading" class="modal" style="margin-top: 80px;">
      <div class="modal-content loader">
      </div>
      <div class="loading-content"><h1>Loading...</h1> </div>
    </div>

    <div *ngIf="isSignedUp" class="modal">
      <div class="modal-content">
        <div class="container-modal">
          <h1>Success to Sign Up</h1>

          <p>You will be navigated to Login page</p>
        
          <div class="clearfix">
            <button routerLink="../login" type="button" class="okbtn">OK</button>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="hasError" class="modal">
      <div class="modal-content">
        <div class="container-modal">
          <h1>Error!</h1>

          <div *ngFor="let error of message">
            <p>{{error}}</p>
          </div>
        
          <div class="clearfix">
            <button (click)="cancelSubmit()" type="button" class="okbtn">OK</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="right-content" >
    <img src="../../assets/images/itsj-g.png" alt="logo" class="logo">
    <img src="../../assets/images/mission_vision_value.png" alt="description">
  </div>
</div>
